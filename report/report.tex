\documentclass[12pt]{article}
\usepackage{epsf}
%\documentstyle[epsf,epic,eepic,eepicemu]{article}
\usepackage[cp1250]{inputenc} % LaTeX source encoded as UTF-8
\usepackage[czech]{babel}

\begin{document}
%\oddsidemargin=-5mm \evensidemargin=-5mm \marginparwidth=.08in
%\marginparsep=.01in \marginparpush=5pt \topmargin=-15mm
%\headheight=12pt \headsep=25pt \footheight=12pt \footskip=30pt
%\textheight=25cm \textwidth=17cm \columnsep=2mm \columnseprule=1pt
%\parindent=15pt\parskip=2pt

\begin{center}
\bf Semestrální projekt MI-PPR 2015/2016:\\[5mm]
    Paralelní algoritmus pro øešení problému Zobecnìné bisekèní šíøky\\[5mm]
       Petr Elexa\\
       Adam Kuèera\\[2mm]
magisterské studium, FIT ÈVUT, Thákurova 9, 160 00 Praha 6\\[2mm]
\today
\end{center}

\section{Definice problému a popis sekvenèního algoritmu}

\subsection{Zobecnìná bisekèní šíøka}

\subsubsection{Vstupní data}

\begin{itemize}
\item $a$ = pøirozené èíslo
\item $n$ = pøirozené èíslo pøedstavující poèet uzlù grafu $G$, $n\ge 5$
\item $m$ = pøirozené èíslo pøedstavující poèet hran grafu $G$, $m\ge n$
\item $k$ = pøirozené èíslo øádu jednotek pøedstavující prùmìrný stupeò uzlu grafu $G$, $n\ge k \ge 3$
$G(V,E)$ = jednoduchý souvislý neorientovaný neohodnocený graf o $n$ uzlech $V$ a $m$ hranách $E$ (nepovinný, pøi jeho absenci je graf s danými parametry vygenerován).
\end{itemize}

\subsubsection{Úkol}

Naleznìte rozdìlení množiny $n$ uzlù grafu $G$ do dvou disjunktních podmnožin $X$ a $Y$ tak, že podmnožina $X$ obsahuje $a$ uzlù, podmnožina $Y$ obsahuje $n-a$ uzlù a poèet všech hran $\{u,v\}$ takových, že $u$ je z $X$ a $v$ je z $Y$, je minimální.

\subsubsection{Výstup algoritmu}

Výpis disjuktních množin uzlù $X$ a $Y$ a poèet hran tyto množiny spojující.

\subsubsection{Sekvenèní algoritmus}

Øešení existuje vždy. Vždy lze sestrojit zobecnìný bisekèní øez grafu. Sekvenèní algoritmus je typu BB-DFS s hloubkou prohledávaného prostoru omezenou na $|a|$. Pøípustný mezistav je definovaný rozdìlením množiny uzlù na dvì disjunktní podmnožiny $X$ a $Y$. Pøípustná koncová øešení jsou všechna zkonstruovaná rozdìlení množiny uzlù grafu $G$ do množin $X$ a $Y$. Cena, kterou minimalizujeme, je poèet hran spojující $X$ a $Y$.

Tìsná dolní mez je rovna 1.

Triviální horní mez je rovna $m$.

\subsection{Naše implementace problému}

\subsection{Formát výstupních dat}

Algortitmus vypíše množinu $X$ o velikosti $a$ jako seznam identifikaèních èísel uzlù podle toho, jak byly zadány ve vstupní matici grafu. Zároveñ vypíše, kolik hran mezi množinou $X$ a zbytkem grafu (množinou $Y$) existuje.

\subsection{Experimentálnì namìøená doba výpoètu}

\begin{table}[h!]
 \centering
\begin{tabular}{ |l| l| l| l| l| }
  \hline
  $a$ & $n$ & $m$ & $k$ & Namìøený èas\\
  \hline
  \hline
  10 & 30 & 120 & 10 & 153,20 s \\
  \hline
  14 & 30 & 120 & 10 & 359,77 s \\
  \hline
\end{tabular}
\end{table}

\section{Popis paralelního algoritmu a jeho implementace v MPI}

\subsection{Paralelizace sekvenèního øešení}

Hlavním procesem øídící celý výpoèet je proces s ID rovno 0 ($p_0$). Ten na zaèátku pøeète vstupní parametry a pøípadnì vygeneruje graf, nad kterým se bude poèítat. Tento graf i parametry poté rozešle všem ostatním procesùm. Poté jsou všechny procesy pøipraveny, všechna práce k vypoètení zatím zùstává procesu $p_0$.

Kostrou parelelního algoritmu je hlavní komunikaèní smyèka, která provádí výpoèty a vždy po urèitém poètu krokù zkontroluje, zda daný proces nedostal nìjaké zprávy od jiných procesù. Tyto zprávy se používají k distribici práce k jednotlivým procesùm a ke globálnímu ukonèení výpoètu.

Pokud nìjaký proces nemá práci (jako napø. všechny procesy kromì $p_0$ na zaèátku), odešle žádost o práci jinému procesu. Ten pokud práci má, rozdìlí svou práci a odešle žádajícímu procesu poèateèní a koneèný prefix kombinací, které má poèítat. V opaèném pøípadì odešle zprávu o chybì. Každý proces $p_i$ úplnì na zaèátku žádá o práci proces $p_0$, v každé další žádosti pak $p_{(i+1) \bmod p}$. Pokud žádost selže, obrátí se na další proces v poøadí.

Pokud nultému procesu dojde práce, rozešle tzv. End Token, pomocí kterého zjišuje, jestli ostatní procesy ještì pracují. Pokud se mu tento token vrátí jako TRUE, ukonèí celý výpoèet. Ostatní procesy token pøijmou, nastavý na TRUE, pokud už nemají co poèítat nebo na FALSE, pokud mají a pøepošlou ho dalšímu procesu. Proces $p_{p-1}$ posílá token zpìt procesu $p_0$.

Jakmile proces $p_0$ detekuje, že všechny procesory již skonèili, odešle tzv. Finish Token. Každý proces po jeho pøijetí procesu $p_0$ pošle svou nalezenou minimální zobecnìnou bisekèní šíøku a také množinu uzlù o velikosti $a$, pro kterou tuto šíøku namìøil. Proces $p_0$ pøijme všechny tyto zprávy a provede nad nimi minimální redukci, èímž se dostane ke globálnímu minimu, které poté vypíše na výstup a ukonèí bìh programu.

\subsubsection{Konstanty a parametry paralelního výpoètu}
\section{Namìøené výsledky a vyhodnocení}

seq problémy, co trvají 5, 10 a 15 minut

nechat je bezet na 2 až max procesorech

grafy zrychlení $S(n,p)$. superlinearni zrychleni?

Vyhodno?te komunika?ní složitost dynamického vyvažování zát?že a posu?te
vhodnost vámi implementovaného algoritmu pro hledání dárce a d?lení
zásobníku pri ?ešení vašeho problému. Posu?te efektivnost a
škálovatelnost algoritmu. Popište nedostatky vaší implementace a
navrhn?te zlepšení.

Empiricky stanovte
granularitu vaší implementace, tj., stupe? paralelismu pro danou
velikost ?ešeného problému. Stanovte kritéria pro stanovení mezí, za
kterými již není u?inné rozkládat výpo?et na menší procesy, protože
by komunika?ní náklady prevážily urychlení paralelním výpo?tem.

\end{enumerate}

\section{Závìr}

Celkové zhodnocení semestrální práce a zkušenosti získaných b?hem
semestru.

\section{Literatura}

Zobecnìná bisekèní šíøka - implementace. Github [online]. [cit. 2015-12-20]. Dostupné z: https://github.com/Wrent/ppr_zbs

\appendix

\end{document}